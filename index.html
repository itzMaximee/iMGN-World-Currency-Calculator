<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Calculator</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="favicon.ico" type="image/x-icon"> <!-- Favicon link -->
    <style>
        /* Inline styles for the heading in dark mode */
        .dark-mode .calculator h1 {
            color: #ffffff; /* White color for dark mode */
        }
    </style>
</head>
<body>
    <div class="calculator">
        <h1>iMGN World Currency Calculator</h1>
        <div class="header-image">
            <img src="header-image.png" alt="Wizarding Currency">
        </div>
        <div class="input-section">
            <label for="amount">Enter Amount:</label>
            <input type="number" id="amount" placeholder="Enter amount">
            <select id="currency-from" class="currency-select">
                <option value="knut">Knut</option>
                <option value="sickle">Sickle</option>
                <option value="galleon">Galleon</option>
            </select>
            <button class="convert-button" onclick="calculate()">Convert</button>
        </div>
        <div class="output-section">
            <div class="currency">
                <img id="knut-img" src="knut.png" alt="Knut">
                <p id="knut-result">0 Knuts</p>
            </div>
            <div class="currency">
                <img id="sickle-img" src="sickle.png" alt="Sickle">
                <p id="sickle-result">0 Sickles</p>
            </div>
            <div class="currency">
                <img id="galleon-img" src="galleon.png" alt="Galleon">
                <p id="galleon-result">0 Galleons</p>
            </div>
        </div>
    </div>
    <script>
        function calculate() {
            const amount = parseFloat(document.getElementById('amount').value);
            const currencyFrom = document.getElementById('currency-from').value;

            let knuts, sickles, galleons;

            switch (currencyFrom) {
                case 'knut':
                    knuts = amount;
                    sickles = amount * 0.03448;
                    galleons = amount * 0.002028;
                    break;
                case 'sickle':
                    knuts = amount * 29;
                    sickles = amount;
                    galleons = amount * 0.05882;
                    break;
                case 'galleon':
                    knuts = amount * 493;
                    sickles = amount * 17;
                    galleons = amount;
                    break;
            }

            document.getElementById('knut-result').innerText = `${knuts.toFixed(2)} Knuts`;
            document.getElementById('sickle-result').innerText = `${sickles.toFixed(2)} Sickles`;
            document.getElementById('galleon-result').innerText = `${galleons.toFixed(2)} Galleons`;
        }

        // Apply dark mode based on system preference
        function applyTheme() {
            const prefersDarkScheme = window.matchMedia("(prefers-color-scheme: dark)").matches;
            
            if (prefersDarkScheme) {
                document.body.classList.add('dark-mode');
            } else {
                document.body.classList.remove('dark-mode');
            }
        }

        // Initial theme application
        applyTheme();

        // Listen for changes in the color scheme
        window.matchMedia("(prefers-color-scheme: dark)").addEventListener('change', applyTheme);
    </script>
</body>
</html>
